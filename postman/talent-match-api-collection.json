{
  "info": {
    "name": "Talent Match API 2.0",
    "description": "Talent Match 後端 API 完整集合 - 包含所有認證、課程、教師、購物車、訂單等功能的 API 端點",
    "version": "2.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{access_token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// 設定常用變數 - 使用環境變數",
          "if (!pm.globals.get('base_url') && pm.environment.get('base_url')) {",
          "  pm.globals.set('base_url', pm.environment.get('base_url'));",
          "}",
          "",
          "// 檢查是否需要自動帶入 access_token",
          "const currentUrl = pm.request.url.toString();",
          "const isAuthEndpoint = currentUrl.includes('/auth/login') || currentUrl.includes('/auth/register') || currentUrl.includes('/auth/forgot-password') || currentUrl.includes('/auth/reset-password');",
          "const isPublicEndpoint = currentUrl.includes('/public') || (currentUrl.includes('/courses') && pm.request.method === 'GET' && !currentUrl.includes('price-options'));",
          "",
          "// 如果不是認證端點或公開端點，且有 access_token，自動設置 Authorization header",
          "if (!isAuthEndpoint && !isPublicEndpoint) {",
          "  const accessToken = pm.globals.get('access_token');",
          "  if (accessToken) {",
          "    pm.request.headers.add({",
          "      key: 'Authorization',",
          "      value: `Bearer ${accessToken}`",
          "    });",
          "    console.log('已自動帶入 Authorization header');",
          "  }",
          "}",
          "",
          "// 不修改 URL，保持原始配置"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// 檢查是否為認證相關 API 回應",
          "if (pm.response.code === 200 || pm.response.code === 201) {",
          "  try {",
          "    const jsonData = pm.response.json();",
          "    ",
          "    // 自動儲存 access_token 和 refresh_token（登入、註冊、刷新 token 時）",
          "    if (jsonData && jsonData.data) {",
          "      if (jsonData.data.access_token) {",
          "        pm.environment.set('access_token', jsonData.data.access_token);",
          "        console.log('✅ 已儲存 access_token:', jsonData.data.access_token.substring(0, 20) + '...');",
          "      }",
          "      ",
          "      if (jsonData.data.refresh_token) {",
          "        pm.environment.set('refresh_token', jsonData.data.refresh_token);",
          "        console.log('✅ 已儲存 refresh_token:', jsonData.data.refresh_token.substring(0, 20) + '...');",
          "      }",
          "      ",
          "      if (jsonData.data.expires_in) {",
          "        // 計算 token 過期時間",
          "        const expiresAt = new Date(Date.now() + (jsonData.data.expires_in * 1000));",
          "        pm.environment.set('token_expires_at', expiresAt.toISOString());",
          "        console.log('✅ Token 將於', expiresAt.toLocaleString(), '過期');",
          "      }",
          "    }",
          "  } catch (e) {",
          "    // 如果不是 JSON 回應，跳過",
          "  }",
          "}",
          "",
          "// 檢查回應狀態",
          "pm.test('Status code is successful', function () {",
          "  pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
          "});",
          "",
          "// 檢查回應格式（只有 JSON 回應才檢查）",
          "if (pm.response.headers.get('Content-Type') && pm.response.headers.get('Content-Type').includes('application/json')) {",
          "  pm.test('Response has correct format', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('status');",
          "    pm.expect(jsonData).to.have.property('message');",
          "  });",
          "}",
          "",
          "// 如果是 401 錯誤且有 refresh_token，提示使用者可能需要刷新 token",
          "if (pm.response.code === 401) {",
          "  const refreshToken = pm.globals.get('refresh_token');",
          "  if (refreshToken) {",
          "    console.log('⚠️  收到 401 錯誤，建議使用 refresh token API 刷新 access token');",
          "  } else {",
          "    console.log('⚠️  收到 401 錯誤，請先登入取得 token');",
          "  }",
          "}"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "",
      "type": "string"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string",
      "description": "管理員 JWT token，從管理員登入 API 獲取"
    }
  ],
  "item": [
    {
      "name": "⚙️ 工具函式",
      "item": [
        {
          "name": "🧹 清理所有 Token",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 清理所有認證相關的全域變數",
                  "pm.globals.unset('access_token');",
                  "pm.globals.unset('refresh_token');",
                  "pm.globals.unset('user_id');",
                  "pm.globals.unset('user_uuid');",
                  "pm.globals.unset('user_role');",
                  "pm.globals.unset('token_expires_at');",
                  "",
                  "console.log('🧹 已清理所有認證資料');",
                  "console.log('現在可以重新登入或註冊');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            },
            "description": "清理工具：移除所有儲存的認證資料"
          }
        },
        {
          "name": "📊 檢視目前 Token 狀態",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 顯示目前的認證狀態",
                  "const accessToken = pm.globals.get('access_token');",
                  "const refreshToken = pm.globals.get('refresh_token');",
                  "const userRole = pm.globals.get('user_role');",
                  "const expiresAt = pm.globals.get('token_expires_at');",
                  "",
                  "console.log('📊 目前認證狀態：');",
                  "console.log('Access Token:', accessToken ? (accessToken.substring(0, 20) + '...') : '❌ 未設定');",
                  "console.log('Refresh Token:', refreshToken ? (refreshToken.substring(0, 20) + '...') : '❌ 未設定');",
                  "console.log('使用者角色:', userRole || '❌ 未設定');",
                  "",
                  "if (expiresAt) {",
                  "    const expiry = new Date(expiresAt);",
                  "    const now = new Date();",
                  "    const isExpired = now > expiry;",
                  "    console.log('Token 狀態:', isExpired ? '❌ 已過期' : '✅ 有效');",
                  "    console.log('過期時間:', expiry.toLocaleString());",
                  "} else {",
                  "    console.log('過期時間: ❌ 未設定');",
                  "}",
                  "",
                  "// 不實際發送請求",
                  "pm.execution.skipRequest();"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            },
            "description": "檢視工具：顯示目前的認證狀態和 Token 資訊"
          }
        }
      ],
      "description": "便利工具，用於管理認證狀態和除錯"
    },
    {
      "name": "標籤管理 (Tags)",
      "item": [
        {
          "name": "取得所有標籤清單",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 標籤清單取得測試",
                  "pm.test('狀態碼應為 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('回應格式應正確', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', true);",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData.data).to.be.an('array');",
                  "});",
                  "",
                  "pm.test('標籤資料結構應正確', function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.data.length > 0) {",
                  "        const firstTag = jsonData.data[0];",
                  "        pm.expect(firstTag).to.have.property('id');",
                  "        pm.expect(firstTag).to.have.property('main_category');",
                  "        pm.expect(firstTag).to.have.property('sub_category');",
                  "        pm.expect(firstTag).to.have.property('icon_url');",
                  "        pm.expect(firstTag.sub_category).to.be.an('array');",
                  "        ",
                  "        // 檢查次分類格式",
                  "        if (firstTag.sub_category.length > 0) {",
                  "            const firstSubCategory = firstTag.sub_category[0];",
                  "            pm.expect(firstSubCategory).to.have.property('id');",
                  "            pm.expect(firstSubCategory).to.have.property('name');",
                  "        }",
                  "    }",
                  "});",
                  "",
                  "console.log('✅ 標籤清單取得成功');"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/tags",
              "host": ["{{base_url}}"],
              "path": ["api", "tags"]
            },
            "description": "取得系統中所有啟用的主分類和次分類標籤清單，供前端選單使用。此為公開 API，不需認證。"
          },
          "response": [
            {
              "name": "成功取得標籤清單",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/api/tags",
                  "host": ["{{base_url}}"],
                  "path": ["api", "tags"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json; charset=utf-8"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": true,\n  \"message\": \"取得標籤清單成功\",\n  \"data\": [\n    {\n      \"id\": 1,\n      \"main_category\": \"藝術創作\",\n      \"sub_category\": [\n        {\n          \"id\": 1,\n          \"name\": \"水彩畫\"\n        },\n        {\n          \"id\": 2,\n          \"name\": \"油畫\"\n        },\n        {\n          \"id\": 3,\n          \"name\": \"素描\"\n        }\n      ],\n      \"icon_url\": \"assets/images/tag-icon/draw_abstract.svg\"\n    },\n    {\n      \"id\": 2,\n      \"main_category\": \"舞蹈表演\",\n      \"sub_category\": [\n        {\n          \"id\": 4,\n          \"name\": \"芭蕾舞\"\n        },\n        {\n          \"id\": 5,\n          \"name\": \"現代舞\"\n        }\n      ],\n      \"icon_url\": \"assets/images/tag-icon/dance.svg\"\n    }\n  ]\n}"
            }
          ]
        }
      ],
      "description": "取得系統標籤相關資訊，包含主分類和次分類清單"
    },
    {
      "name": "認證管理 (Auth)",
      "item": [
        {
          "name": "使用者註冊",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 註冊專用測試腳本",
                  "pm.test('註冊狀態碼應為 201', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test('回應應包含所需的認證資料', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 'success');",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData.data).to.have.property('access_token');",
                  "    pm.expect(jsonData.data).to.have.property('refresh_token');",
                  "    pm.expect(jsonData.data).to.have.property('user');",
                  "});",
                  "",
                  "// 儲存認證資料到環境變數",
                  "if (pm.response.code === 201) {",
                  "    try {",
                  "        const responseData = pm.response.json();",
                  "        ",
                  "        if (responseData.data) {",
                  "            // 儲存 tokens",
                  "            pm.environment.set('access_token', responseData.data.access_token);",
                  "            pm.environment.set('refresh_token', responseData.data.refresh_token);",
                  "            ",
                  "            // 儲存使用者資訊",
                  "            pm.environment.set('user_id', responseData.data.user.id);",
                  "            pm.environment.set('user_uuid', responseData.data.user.uuid);",
                  "            pm.environment.set('user_role', responseData.data.user.role);",
                  "            ",
                  "            // 計算 token 過期時間",
                  "            if (responseData.data.expires_in) {",
                  "                const expiresAt = new Date(Date.now() + (responseData.data.expires_in * 1000));",
                  "                pm.environment.set('token_expires_at', expiresAt.toISOString());",
                  "            }",
                  "            ",
                  "            console.log('🎉 註冊成功！');",
                  "            console.log('✅ Access Token:', responseData.data.access_token.substring(0, 20) + '...');",
                  "            console.log('✅ Refresh Token:', responseData.data.refresh_token.substring(0, 20) + '...');",
                  "            console.log('✅ 使用者:', responseData.data.user.nick_name, '(' + responseData.data.user.role + ')');",
                  "        }",
                  "    } catch (error) {",
                  "        console.error('❌ 儲存註冊資料時發生錯誤:', error);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test001@gmail.com\",\n  \"password\": \"1qaz2wsx\",\n  \"nick_name\": \"測試使用者001\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            },
            "description": "使用者註冊 API，支援學生和教師角色註冊"
          }
        },
        {
          "name": "使用者登入",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 登入專用測試腳本",
                  "pm.test('登入狀態碼應為 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('回應應包含所需的認證資料', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 'success');",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData.data).to.have.property('access_token');",
                  "    pm.expect(jsonData.data).to.have.property('refresh_token');",
                  "    pm.expect(jsonData.data).to.have.property('user');",
                  "});",
                  "",
                  "// 儲存認證資料到環境變數",
                  "if (pm.response.code === 200) {",
                  "    try {",
                  "        const responseData = pm.response.json();",
                  "        ",
                  "        if (responseData.data) {",
                  "            // 儲存 tokens",
                  "            pm.environment.set('access_token', responseData.data.access_token);",
                  "            pm.environment.set('refresh_token', responseData.data.refresh_token);",
                  "            ",
                  "            // 儲存使用者資訊",
                  "            pm.environment.set('user_id', responseData.data.user.id);",
                  "            pm.environment.set('user_uuid', responseData.data.user.uuid);",
                  "            pm.environment.set('user_role', responseData.data.user.role);",
                  "            ",
                  "            // 計算 token 過期時間",
                  "            if (responseData.data.expires_in) {",
                  "                const expiresAt = new Date(Date.now() + (responseData.data.expires_in * 1000));",
                  "                pm.environment.set('token_expires_at', expiresAt.toISOString());",
                  "            }",
                  "            ",
                  "            console.log('🎉 登入成功！');",
                  "            console.log('✅ Access Token:', responseData.data.access_token.substring(0, 20) + '...');",
                  "            console.log('✅ Refresh Token:', responseData.data.refresh_token.substring(0, 20) + '...');",
                  "            console.log('✅ 使用者:', responseData.data.user.nick_name, '(' + responseData.data.user.role + ')');",
                  "        }",
                  "    } catch (error) {",
                  "        console.error('❌ 儲存登入資料時發生錯誤:', error);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"teacher001@gmail.com\",\n  \"password\": \"1qaz2wsx\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "使用者登入，返回 JWT Token"
          }
        },
        {
          "name": "刷新 Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 刷新 Token 專用測試腳本",
                  "pm.test('Token 刷新狀態碼應為 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('回應應包含新的認證資料', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 'success');",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData.data).to.have.property('access_token');",
                  "    pm.expect(jsonData.data).to.have.property('refresh_token');",
                  "});",
                  "",
                  "// 儲存新的認證資料到全域變數",
                  "if (pm.response.code === 200) {",
                  "    try {",
                  "        const responseData = pm.response.json();",
                  "        ",
                  "        if (responseData.data) {",
                  "            // 更新 tokens",
                  "            pm.environment.set('access_token', responseData.data.access_token);",
                  "            pm.environment.set('refresh_token', responseData.data.refresh_token);",
                  "            ",
                  "            // 計算新的 token 過期時間",
                  "            if (responseData.data.expires_in) {",
                  "                const expiresAt = new Date(Date.now() + (responseData.data.expires_in * 1000));",
                  "                pm.environment.set('token_expires_at', expiresAt.toISOString());",
                  "            }",
                  "            ",
                  "            console.log('🔄 Token 刷新成功！');",
                  "            console.log('✅ 新的 Access Token:', responseData.data.access_token.substring(0, 20) + '...');",
                  "            console.log('✅ 新的 Refresh Token:', responseData.data.refresh_token.substring(0, 20) + '...');",
                  "        }",
                  "    } catch (error) {",
                  "        console.error('❌ 儲存刷新後的認證資料時發生錯誤:', error);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "refresh"]
            },
            "description": "使用 Refresh Token 刷新 Access Token"
          }
        },
        {
          "name": "取得個人資料",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            },
            "description": "取得目前登入使用者的個人資料"
          }
        },
        {
          "name": "更新個人資料",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"王小明\",\n  \"nick_name\": \"小明\",\n  \"birthday\": \"1990-01-01\",\n  \"contact_phone\": \"0912345678\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            },
            "description": "更新個人資料"
          }
        },
        {
          "name": "忘記密碼",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test001@gmail.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/forgot-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "forgot-password"]
            },
            "description": "發送重設密碼郵件"
          }
        },
        {
          "name": "重設密碼",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"reset_token_here\",\n  \"new_password\": \"newPassword123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/reset-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "reset-password"]
            },
            "description": "使用重設令牌重設密碼"
          }
        },
        {
          "name": "刪除帳號",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// 刪除帳號專用測試腳本",
                  "pm.test('刪除帳號狀態碼應為 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// 帳號刪除成功後清理所有認證資料",
                  "if (pm.response.code === 200) {",
                  "    pm.globals.unset('access_token');",
                  "    pm.globals.unset('refresh_token');",
                  "    pm.globals.unset('user_id');",
                  "    pm.globals.unset('user_uuid');",
                  "    pm.globals.unset('user_role');",
                  "    pm.globals.unset('token_expires_at');",
                  "    ",
                  "    console.log('🗑️  帳號刪除成功，已清理所有認證資料');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "profile"]
            },
            "description": "刪除使用者帳號（軟刪除）"
          }
        }
      ],
      "description": "使用者認證相關 API，包含註冊、登入、Token 管理等功能"
    },
    {
      "name": "教師管理 (Teachers)",
      "item": [
        {
          "name": "申請成為教師",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"city\": \"台北市\",\n  \"district\": \"中正區\",\n  \"address\": \"中山南路5號\",\n  \"main_category_id\": 1,\n  \"sub_category_ids\": [1, 2, 3],\n  \"introduction\": \"我是一位經驗豐富的教師，擁有10年以上的教學經驗，專精於程式設計領域，能夠以淺顯易懂的方式教導學生掌握複雜的技術概念，致力於培養學生的邏輯思維和問題解決能力。\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/apply",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "apply"]
            },
            "description": "建立新的教師申請，提交地址資訊、教授科目、專長和自我介紹資料"
          }
        },
        {
          "name": "查詢教師申請狀態",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/apply-status",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "apply-status"]
            },
            "description": "取得使用者的教師申請狀態和所有步驟的表單資料，用於前端判斷申請進度和預填表單"
          }
        },
        {
          "name": "取得教師基本資訊",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/basic-info",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "basic-info"]
            },
            "description": "取得已通過申請的教師基本資訊，主要用於教師個人資料管理"
          }
        },
        {
          "name": "更新教師基本資訊",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"city\": \"台北市\",\n  \"district\": \"中正區\",\n  \"address\": \"中山南路5號\",\n  \"main_category_id\": 1,\n  \"sub_category_ids\": [1, 2, 3],\n  \"introduction\": \"我是一位經驗豐富的教師，擁有10年以上的教學經驗，專精於程式設計領域，能夠以淺顯易懂的方式教導學生掌握複雜的技術概念。\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/basic-info",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "basic-info"]
            },
            "description": "更新已通過申請的教師基本資訊，專門用於個人資料管理"
          }
        },
        {
          "name": "更新教師基本資訊",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"city\": \"台北市\",\n  \"district\": \"中正區\",\n  \"address\": \"中山南路5號\",\n  \"main_category_id\": 1,\n  \"sub_category_ids\": [1, 2, 3],\n  \"introduction\": \"我是一位經驗豐富的教師，擁有10年以上的教學經驗，專精於程式設計領域，能夠以淺顯易懂的方式教導學生掌握複雜的技術概念。\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/basic-info",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "basic-info"]
            },
            "description": "更新教師申請的基本資訊，用於多步驟表單的第一步"
          }
        },
        {
          "name": "重新提交申請",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/resubmit",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "resubmit"]
            },
            "description": "重新提交教師申請"
          }
        },
        {
          "name": "提交教師申請",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/submit",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "submit"]
            },
            "description": "最終提交教師申請"
          }
        },
        {
          "name": "取得教師個人檔案",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "profile"]
            },
            "description": "取得教師完整個人檔案"
          }
        },
        {
          "name": "更新教師個人檔案",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"city\": \"台北市\",\n  \"district\": \"中正區\",\n  \"address\": \"中山南路5號\",\n  \"main_category_id\": 1,\n  \"sub_category_ids\": [1, 2, 3],\n  \"introduction\": \"我是一位經驗豐富的教師，擁有10年以上的教學經驗。\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "profile"]
            },
            "description": "更新教師個人檔案"
          }
        },
        {
          "name": "取得工作經驗列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/work-experiences",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "work-experiences"]
            },
            "description": "取得教師工作經驗列表"
          }
        },
        {
          "name": "新增工作經驗",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"work_experiences\": [\n    {\n      \"company_name\": \"某某科技公司\",\n      \"city\": \"台北市\",\n      \"district\": \"信義區\",\n      \"job_category\": \"軟體開發\",\n      \"job_title\": \"資深工程師\",\n      \"is_working\": false,\n      \"start_year\": 2020,\n      \"start_month\": 1,\n      \"end_year\": 2022,\n      \"end_month\": 12\n    },\n    {\n      \"company_name\": \"另一家公司\",\n      \"city\": \"新北市\",\n      \"district\": \"板橋區\",\n      \"job_category\": \"產品管理\",\n      \"job_title\": \"產品經理\",\n      \"is_working\": true,\n      \"start_year\": 2023,\n      \"start_month\": 1,\n      \"end_year\": null,\n      \"end_month\": null\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/work-experiences",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "work-experiences"]
            },
            "description": "批次新增工作經驗記錄，統一使用陣列格式，支援一次新增多筆工作經驗"
          }
        },
        {
          "name": "更新工作經驗",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_name\": \"某某科技公司\",\n  \"city\": \"台北市\",\n  \"district\": \"信義區\",\n  \"job_category\": \"軟體開發\",\n  \"job_title\": \"資深工程師\",\n  \"is_working\": false,\n  \"start_year\": 2020,\n  \"start_month\": 1,\n  \"end_year\": 2023,\n  \"end_month\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/work-experiences/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "work-experiences", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新指定的工作經驗"
          }
        },
        {
          "name": "刪除工作經驗",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/work-experiences/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "work-experiences", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除指定的工作經驗"
          }
        },
        {
          "name": "批次新增或更新工作經驗",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"work_experiences\": [\n    {\n      \"id\": 123,\n      \"company_name\": \"更新後的公司名稱\",\n      \"city\": \"台北市\",\n      \"district\": \"信義區\",\n      \"job_category\": \"軟體開發\",\n      \"job_title\": \"資深工程師\",\n      \"is_working\": false,\n      \"start_year\": 2020,\n      \"start_month\": 1,\n      \"end_year\": 2023,\n      \"end_month\": 6\n    },\n    {\n      \"company_name\": \"新公司\",\n      \"city\": \"新北市\",\n      \"district\": \"板橋區\",\n      \"job_category\": \"產品管理\",\n      \"job_title\": \"產品經理\",\n      \"is_working\": true,\n      \"start_year\": 2023,\n      \"start_month\": 7,\n      \"end_year\": null,\n      \"end_month\": null\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/work-experiences",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "work-experiences"]
            },
            "description": "批次處理工作經驗記錄，支援同時新增和更新操作。有 id 的記錄會被更新，沒有 id 的記錄會被新增。"
          }
        },
        {
          "name": "取得學習經歷列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/learning-experiences",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "learning-experiences"]
            },
            "description": "取得教師學習經歷列表"
          }
        },
        {
          "name": "批次新增學習經歷",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"learning_experiences\": [\n    {\n      \"degree\": \"學士\",\n      \"school_name\": \"某某大學\",\n      \"department\": \"資訊工程學系\",\n      \"region\": true,\n      \"is_in_school\": false,\n      \"start_year\": 2016,\n      \"start_month\": 9,\n      \"end_year\": 2020,\n      \"end_month\": 6\n    },\n    {\n      \"degree\": \"碩士\",\n      \"school_name\": \"某某研究所\",\n      \"department\": \"資訊管理學系\",\n      \"region\": true,\n      \"is_in_school\": false,\n      \"start_year\": 2020,\n      \"start_month\": 9,\n      \"end_year\": 2022,\n      \"end_month\": 6\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/learning-experiences",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "learning-experiences"]
            },
            "description": "批次新增學習經歷，支援一次新增多筆學習經歷記錄"
          }
        },
        {
          "name": "更新學習經歷",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"degree\": \"碩士\",\n  \"school_name\": \"某某大學\",\n  \"department\": \"資訊管理學系\",\n  \"region\": true,\n  \"is_in_school\": false,\n  \"start_year\": 2020,\n  \"start_month\": 9,\n  \"end_year\": 2022,\n  \"end_month\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/learning-experiences/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "learning-experiences", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新指定的學習經歷"
          }
        },
        {
          "name": "批次新增或更新學習經歷",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"learning_experiences\": [\n    {\n      \"id\": 123,\n      \"degree\": \"碩士\",\n      \"school_name\": \"某某大學\",\n      \"department\": \"資訊管理學系碩士班\",\n      \"region\": true,\n      \"is_in_school\": false,\n      \"start_year\": 2020,\n      \"start_month\": 9,\n      \"end_year\": 2022,\n      \"end_month\": 6\n    },\n    {\n      \"degree\": \"博士\",\n      \"school_name\": \"另一所大學\",\n      \"department\": \"電腦科學系\",\n      \"region\": false,\n      \"is_in_school\": true,\n      \"start_year\": 2022,\n      \"start_month\": 9,\n      \"end_year\": null,\n      \"end_month\": null\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/learning-experiences",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "learning-experiences"]
            },
            "description": "批次處理學習經歷記錄，支援同時新增和更新操作。有 id 的記錄會被更新，沒有 id 的記錄會被新增。"
          }
        },
        {
          "name": "刪除學習經歷",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/learning-experiences/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "learning-experiences", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除指定的學習經歷"
          }
        },
        {
          "name": "取得證書列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/certificates",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "certificates"]
            },
            "description": "取得教師證書列表"
          }
        },
        {
          "name": "批次新增證書",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"certificates\": [\n    {\n      \"verifying_institution\": \"某某認證機構\",\n      \"license_name\": \"Python 程式設計證照\",\n      \"holder_name\": \"王小明\",\n      \"license_number\": \"PYTHON123456\",\n      \"file_path\": \"\",\n      \"category_id\": 1,\n      \"issue_year\": 2023,\n      \"issue_month\": 6\n    },\n    {\n      \"verifying_institution\": \"另一個認證機構\",\n      \"license_name\": \"Java 程式設計證照\",\n      \"holder_name\": \"王小明\",\n      \"license_number\": \"JAVA789012\",\n      \"file_path\": \"\",\n      \"category_id\": 1,\n      \"issue_year\": 2023,\n      \"issue_month\": 8\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/certificates",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "certificates"]
            },
            "description": "批次新增教學證書，支援一次新增多筆證書記錄"
          }
        },
        {
          "name": "更新證書",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"verifying_institution\": \"某某認證機構\",\n  \"license_name\": \"Java 程式設計證照\",\n  \"holder_name\": \"王小明\",\n  \"license_number\": \"JAVA123456\",\n  \"file_path\": \"/uploads/certificates/cert456.pdf\",\n  \"category_id\": 1,\n  \"issue_year\": 2023,\n  \"issue_month\": 6\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/certificates/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "certificates", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新指定的證書"
          }
        },
        {
          "name": "批次新增或更新證書",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"certificates\": [\n    {\n      \"id\": 456,\n      \"verifying_institution\": \"更新後的認證機構\",\n      \"license_name\": \"Advanced Java 程式設計證照\",\n      \"holder_name\": \"王小明\",\n      \"license_number\": \"JAVA123456\",\n      \"file_path\": \"\",\n      \"category_id\": 1,\n      \"issue_year\": 2023,\n      \"issue_month\": 6\n    },\n    {\n      \"verifying_institution\": \"新認證機構\",\n      \"license_name\": \"React 前端開發證照\",\n      \"holder_name\": \"王小明\",\n      \"license_number\": \"REACT789012\",\n      \"file_path\": \"\",\n      \"category_id\": 2,\n      \"issue_year\": 2024,\n      \"issue_month\": 1\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/certificates",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "certificates"]
            },
            "description": "批次處理證書記錄，支援同時新增和更新操作。有 id 的記錄會被更新，沒有 id 的記錄會被新增。"
          }
        },
        {
          "name": "刪除證書",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/certificates/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "certificates", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除指定的證書"
          }
        },
        {
          "name": "取得教師時間表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/schedule",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "schedule"]
            },
            "description": "取得教師可用時間表"
          }
        },
        {
          "name": "更新教師時間表",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"schedule\": {\n    \"monday\": [\"09:00-12:00\", \"14:00-17:00\"],\n    \"tuesday\": [\"09:00-12:00\", \"14:00-17:00\"],\n    \"wednesday\": [\"09:00-12:00\"],\n    \"thursday\": [\"14:00-17:00\"],\n    \"friday\": [\"09:00-12:00\", \"14:00-17:00\"],\n    \"saturday\": [],\n    \"sunday\": []\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/teachers/schedule",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "schedule"]
            },
            "description": "更新教師可用時間表"
          }
        },
        {
          "name": "檢查時間衝突",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/schedule/conflicts?start_time=2024-01-15T09:00:00&end_time=2024-01-15T10:00:00",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", "schedule", "conflicts"],
              "query": [
                {
                  "key": "start_time",
                  "value": "2024-01-15T09:00:00",
                  "description": "開始時間 (ISO 8601 格式)"
                },
                {
                  "key": "end_time", 
                  "value": "2024-01-15T10:00:00",
                  "description": "結束時間 (ISO 8601 格式)"
                }
              ]
            },
            "description": "檢查指定時間是否有衝突"
          }
        }
      ],
      "description": "教師管理相關 API，包含申請審核、學習經歷、證書管理等功能"
    },
    {
      "name": "課程管理 (Courses)",
      "item": [
        {
          "name": "課程列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses",
              "host": ["{{base_url}}"],
              "path": ["api", "courses"]
            },
            "description": "取得課程列表"
          }
        },
        {
          "name": "課程詳情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "取得課程詳細資訊（需要教師身份認證，只能查看自己的課程或公開課程）"
          }
        },
        {
          "name": "課程搜索",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses?page=1&limit=12",
              "host": ["{{base_url}}"],
              "path": ["api", "courses"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "12"
                }
              ]
            },
            "description": "取得教師自己的課程列表（需要認證）"
          }
        },
        {
          "name": "課程評價",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/:id/reviews?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id", "reviews"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "取得課程評價列表（需要教師身份認證）"
          }
        },
        {
          "name": "新增課程",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Python 程式設計基礎\",\n  \"content\": \"完整的Python程式設計入門課程，從基礎語法開始教學\",\n  \"main_category_id\": 1,\n  \"sub_category_id\": 2,\n  \"city_id\": 1,\n  \"status\": \"draft\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses",
              "host": ["{{base_url}}"],
              "path": ["api", "courses"]
            },
            "description": "建立新課程"
          }
        },
        {
          "name": "更新課程",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Python 程式設計進階\",\n  \"content\": \"進階Python程式設計課程，涵蓋物件導向、資料結構等\",\n  \"main_category_id\": 1,\n  \"sub_category_id\": 2,\n  \"city_id\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新課程資訊（需要教師身份認證，只能更新自己的課程）"
          }
        },
        {
          "name": "刪除課程",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除課程（需要教師身份認證，只能刪除自己的未發布課程）"
          }
        },
        {
          "name": "提交課程審核",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"submission_notes\": \"課程已準備完成，請協助審核\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses/:id/submit",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id", "submit"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "提交課程審核（需要教師身份認證，只有草稿狀態且未在審核中的課程可提交）"
          }
        },
        {
          "name": "重新提交課程審核",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"submission_notes\": \"已根據回饋修正課程內容，請重新審核\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses/:id/resubmit",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id", "resubmit"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "重新提交課程審核（需要教師身份認證，只有被拒絕的課程可重新提交）"
          }
        },
        {
          "name": "發布課程",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/:id/publish",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id", "publish"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "發布課程（需要教師身份認證，只有草稿且審核通過的課程可發布）"
          }
        },
        {
          "name": "封存課程",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"archive_reason\": \"課程內容需要大幅更新，暫時下架\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses/:id/archive",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":id", "archive"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "封存課程（需要教師身份認證，只有已發布的課程可封存）"
          }
        },
        {
          "name": "課程價格方案",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/:courseId/price-options",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":courseId", "price-options"],
              "variable": [
                {
                  "key": "courseId",
                  "value": "1"
                }
              ]
            },
            "description": "取得課程價格方案列表（需要教師身份認證）"
          }
        },
        {
          "name": "新增價格方案",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"單堂課程\",\n  \"price\": 1500,\n  \"quantity\": 1,\n  \"description\": \"一對一個人指導課程\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses/:courseId/price-options",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":courseId", "price-options"],
              "variable": [
                {
                  "key": "courseId",
                  "value": "1"
                }
              ]
            },
            "description": "新增課程價格方案（需要教師身份認證）"
          }
        },
        {
          "name": "更新價格方案",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"單堂課程 (進階)\",\n  \"price\": 1800,\n  \"quantity\": 1,\n  \"description\": \"一對一進階課程指導\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/courses/:courseId/price-options/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":courseId", "price-options", ":id"],
              "variable": [
                {
                  "key": "courseId",
                  "value": "1"
                },
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新價格方案（需要教師身份認證）"
          }
        },
        {
          "name": "刪除價格方案",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/:courseId/price-options/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", ":courseId", "price-options", ":id"],
              "variable": [
                {
                  "key": "courseId",
                  "value": "1"
                },
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除價格方案（需要教師身份認證）"
          }
        }
      ],
      "description": "課程管理相關 API，包含課程 CRUD、狀態管理、價格方案等功能\n\n**教師課程管理功能**：\n- POST /api/courses - 建立課程\n- PUT /api/courses/:id - 更新課程\n- GET /api/courses/:id - 取得課程詳情\n- GET /api/courses - 教師課程列表\n- DELETE /api/courses/:id - 刪除課程\n\n**課程狀態管理**：\n- POST /api/courses/:id/submit - 提交審核\n- POST /api/courses/:id/resubmit - 重新提交審核\n- POST /api/courses/:id/publish - 發布課程\n- POST /api/courses/:id/archive - 封存課程\n\n**價格方案管理**：\n- GET /api/courses/:courseId/price-options - 取得價格方案\n- POST /api/courses/:courseId/price-options - 新增價格方案\n- PUT /api/courses/:courseId/price-options/:id - 更新價格方案\n- DELETE /api/courses/:courseId/price-options/:id - 刪除價格方案\n\n**注意事項**：\n- 所有端點都需要教師身份認證\n- 使用 :id 參數（數字），不是 :uuid\n- 狀態管理遵循特定業務規則"
    },
    {
      "name": "公開課程瀏覽 (Public Courses)",
      "item": [
        {
          "name": "公開課程列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/public?keyword=Python&main_category_id=1&sub_category_id=2&city_id=1&sort=newest&page=1&limit=12",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", "public"],
              "query": [
                {
                  "key": "keyword",
                  "value": "Python"
                },
                {
                  "key": "main_category_id",
                  "value": "1"
                },
                {
                  "key": "sub_category_id",
                  "value": "2"
                },
                {
                  "key": "city_id",
                  "value": "1"
                },
                {
                  "key": "sort",
                  "value": "newest"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "12"
                }
              ]
            },
            "description": "瀏覽公開課程列表，支援搜索和篩選（無需認證）"
          }
        },
        {
          "name": "公開課程詳情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/courses/public/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "courses", "public", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "瀏覽公開課程詳情（無需認證，會增加瀏覽次數）"
          }
        }
      ],
      "description": "公開課程瀏覽相關 API，無需認證即可存取\n\n**實際實作的路由**：\n- GET /api/courses/public - 公開課程列表（支援搜索篩選）\n- GET /api/courses/public/:id - 公開課程詳情\n\n**功能說明**：\n- 無需認證即可存取\n- 支援關鍵字搜索和分類篩選\n- 瀏覽課程詳情會增加瀏覽次數\n- 只顯示已發布的課程"
    },
    {
      "name": "公開教師資料 (Public Teachers)",
      "item": [
        {
          "name": "教師個人檔案",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/:id/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", ":id", "profile"],
              "variable": [
                {
                  "key": "id",
                  "value": "41"
                }
              ]
            },
            "description": "瀏覽教師公開個人檔案"
          }
        },
        {
          "name": "教師課程列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teachers/:id/courses?page=1&limit=12",
              "host": ["{{base_url}}"],
              "path": ["api", "teachers", ":id", "courses"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "12"
                }
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "41"
                }
              ]
            },
            "description": "瀏覽特定教師的課程列表"
          }
        }
      ],
      "description": "公開教師資料相關 API，無需認證即可存取"
    },
    {
      "name": "評價管理 (Reviews)",
      "item": [
        {
          "name": "新增課程評價",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"course_uuid\": \"course-uuid-here\",\n  \"rate\": 5,\n  \"comment\": \"很棒的課程，老師教學認真！\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/reviews",
              "host": ["{{base_url}}"],
              "path": ["api", "reviews"]
            },
            "description": "為課程新增評價"
          }
        },
        {
          "name": "更新評價",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rate\": 4,\n  \"comment\": \"課程內容豐富，但進度稍快\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/reviews/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "reviews", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新評價內容"
          }
        },
        {
          "name": "刪除評價",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/reviews/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "reviews", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除評價"
          }
        }
      ],
      "description": "評價管理相關 API，包含新增、更新、刪除評價等功能"
    },
    {
      "name": "收藏功能 (Favorites)",
      "item": [
        {
          "name": "收藏列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/favorites?page=1&limit=12",
              "host": ["{{base_url}}"],
              "path": ["api", "favorites"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "12"
                }
              ]
            },
            "description": "取得使用者收藏課程列表"
          }
        },
        {
          "name": "新增收藏",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"course_uuid\": \"course-uuid-here\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/favorites",
              "host": ["{{base_url}}"],
              "path": ["api", "favorites"]
            },
            "description": "收藏課程"
          }
        },
        {
          "name": "取消收藏",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/favorites/:course_uuid",
              "host": ["{{base_url}}"],
              "path": ["api", "favorites", ":course_uuid"],
              "variable": [
                {
                  "key": "course_uuid",
                  "value": "course-uuid-here"
                }
              ]
            },
            "description": "取消收藏課程"
          }
        }
      ],
      "description": "課程收藏功能相關 API"
    },
    {
      "name": "影片管理 (Videos)",
      "item": [
        {
          "name": "課程影片列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/videos/course/:course_uuid",
              "host": ["{{base_url}}"],
              "path": ["api", "videos", "course", ":course_uuid"],
              "variable": [
                {
                  "key": "course_uuid",
                  "value": "course-uuid-here"
                }
              ]
            },
            "description": "取得課程影片列表"
          }
        },
        {
          "name": "上傳影片",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "video",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "course_uuid",
                  "value": "course-uuid-here",
                  "type": "text"
                },
                {
                  "key": "title",
                  "value": "第一章：Python 簡介",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "Python 程式語言的基礎介紹",
                  "type": "text"
                },
                {
                  "key": "order_index",
                  "value": "1",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/videos",
              "host": ["{{base_url}}"],
              "path": ["api", "videos"]
            },
            "description": "上傳課程影片"
          }
        },
        {
          "name": "更新影片資訊",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"第一章：Python 進階介紹\",\n  \"description\": \"深入介紹 Python 程式語言的特性\",\n  \"order_index\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/videos/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "videos", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新影片資訊"
          }
        },
        {
          "name": "刪除影片",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/videos/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "videos", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "刪除影片"
          }
        }
      ],
      "description": "課程影片管理相關 API"
    },
    {
      "name": "購物車管理 (Cart)",
      "item": [
        {
          "name": "購物車內容",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "cart"]
            },
            "description": "取得購物車內容"
          }
        },
        {
          "name": "加入購物車",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price_option_id\": 1,\n  \"quantity\": 1\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/items",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "items"]
            },
            "description": "將課程價格方案加入購物車"
          }
        },
        {
          "name": "更新購物車項目",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cart/items/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "items", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新購物車項目數量"
          }
        },
        {
          "name": "移除購物車項目",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cart/items/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "cart", "items", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "移除購物車項目"
          }
        },
        {
          "name": "清空購物車",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "cart"]
            },
            "description": "清空購物車所有項目"
          }
        }
      ],
      "description": "購物車管理相關 API"
    },
    {
      "name": "訂單管理 (Orders)",
      "item": [
        {
          "name": "訂單列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/orders?page=1&limit=10&status=pending",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "pending"
                }
              ]
            },
            "description": "取得使用者訂單列表"
          }
        },
        {
          "name": "建立訂單",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cart_item_ids\": [1, 2, 3],\n  \"payment_method\": \"credit_card\",\n  \"shipping_address\": \"台北市信義區信義路五段7號\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "orders"]
            },
            "description": "從購物車建立訂單"
          }
        },
        {
          "name": "訂單詳情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/orders/:uuid",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", ":uuid"],
              "variable": [
                {
                  "key": "uuid",
                  "value": "order-uuid-here"
                }
              ]
            },
            "description": "取得訂單詳細資訊"
          }
        },
        {
          "name": "取消訂單",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"cancelled\",\n  \"cancel_reason\": \"課程時間不符合需求\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/orders/:uuid/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "orders", ":uuid", "cancel"],
              "variable": [
                {
                  "key": "uuid",
                  "value": "order-uuid-here"
                }
              ]
            },
            "description": "取消訂單"
          }
        }
      ],
      "description": "訂單管理相關 API"
    },
    {
      "name": "購買記錄 (Purchases)",
      "item": [
        {
          "name": "購買記錄列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/purchases?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "purchases"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "取得使用者購買記錄列表"
          }
        },
        {
          "name": "購買記錄詳情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/purchases/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "purchases", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "取得購買記錄詳細資訊"
          }
        }
      ],
      "description": "購買記錄管理相關 API"
    },
    {
      "name": "預約管理 (Reservations)",
      "item": [
        {
          "name": "預約列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/reservations?page=1&limit=10&status=pending",
              "host": ["{{base_url}}"],
              "path": ["api", "reservations"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "pending"
                }
              ]
            },
            "description": "取得使用者預約列表"
          }
        },
        {
          "name": "建立預約",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"course_uuid\": \"course-uuid-here\",\n  \"price_option_id\": 1,\n  \"scheduled_at\": \"2024-01-20T14:00:00.000Z\",\n  \"notes\": \"希望能加強基礎概念的說明\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/reservations",
              "host": ["{{base_url}}"],
              "path": ["api", "reservations"]
            },
            "description": "建立課程預約"
          }
        },
        {
          "name": "預約詳情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/reservations/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "取得預約詳細資訊"
          }
        },
        {
          "name": "更新預約",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"scheduled_at\": \"2024-01-21T14:00:00.000Z\",\n  \"notes\": \"時間調整為明天同一時間\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/reservations/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "更新預約資訊"
          }
        },
        {
          "name": "取消預約",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/reservations/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            },
            "description": "取消預約"
          }
        }
      ],
      "description": "課程預約管理相關 API"
    },
    {
      "name": "教師後台管理 (Teacher Dashboard)",
      "item": [
        {
          "name": "教師儀表板統計",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teacher-dashboard/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "teacher-dashboard", "stats"]
            },
            "description": "取得教師儀表板統計資料"
          }
        },
        {
          "name": "教師課程管理",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teacher-dashboard/courses?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "teacher-dashboard", "courses"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "取得教師的課程列表"
          }
        },
        {
          "name": "教師收入統計",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teacher-dashboard/earnings?start_date=2024-01-01&end_date=2024-12-31",
              "host": ["{{base_url}}"],
              "path": ["api", "teacher-dashboard", "earnings"],
              "query": [
                {
                  "key": "start_date",
                  "value": "2024-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2024-12-31"
                }
              ]
            },
            "description": "取得教師收入統計"
          }
        },
        {
          "name": "學生管理",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/teacher-dashboard/students?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "teacher-dashboard", "students"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "取得教師的學生列表"
          }
        }
      ],
      "description": "教師後台管理相關 API"
    },
    {
      "name": "管理員功能 (Admin)",
      "item": [
        {
          "name": "認證管理",
          "item": [
            {
              "name": "管理員登入",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123456\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/admin/login",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "login"]
                },
                "description": "管理員登入，返回 JWT token"
              }
            },
            {
              "name": "管理員登出",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/api/admin/logout",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "logout"]
                },
                "description": "管理員登出"
              }
            },
            {
              "name": "獲取管理員資訊",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/api/admin/profile",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "profile"]
                },
                "description": "獲取當前登入管理員的基本資訊"
              }
            }
          ]
        },
        {
          "name": "教師申請管理",
          "item": [
            {
              "name": "獲取教師申請列表",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  }
                ],
                "url": {
                  "raw": "{{base_url}}/api/admin/teacher-applications?status=pending&page=1&limit=20",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "teacher-applications"],
                  "query": [
                    {
                      "key": "status",
                      "value": "pending",
                      "description": "篩選狀態：pending, approved, rejected (可選)"
                    },
                    {
                      "key": "page",
                      "value": "1",
                      "description": "頁碼，預設 1"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "每頁數量，預設 20，最大 100"
                    }
                  ]
                },
                "description": "獲取教師申請列表，支援狀態篩選和分頁"
              }
            },
            {
              "name": "核准教師申請",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": {
                  "raw": "{{base_url}}/api/admin/teachers/:teacherId/approve",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "teachers", ":teacherId", "approve"],
                  "variable": [
                    {
                      "key": "teacherId",
                      "value": "1",
                      "description": "教師 ID"
                    }
                  ]
                },
                "description": "核准教師申請，自動將使用者角色從 TEACHER_PENDING 升級為 TEACHER"
              }
            },
            {
              "name": "拒絕教師申請",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"申請資料不完整，請補充相關證明文件\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/admin/teachers/:teacherId/reject",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "teachers", ":teacherId", "reject"],
                  "variable": [
                    {
                      "key": "teacherId",
                      "value": "1",
                      "description": "教師 ID"
                    }
                  ]
                },
                "description": "拒絕教師申請，必須提供拒絕原因"
              }
            }
          ]
        },
        {
          "name": "課程申請管理",
          "item": [
            {
              "name": "核准課程申請",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": {
                  "raw": "{{base_url}}/api/admin/courses/:courseId/approve",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "courses", ":courseId", "approve"],
                  "variable": [
                    {
                      "key": "courseId",
                      "value": "1",
                      "description": "課程 ID"
                    }
                  ]
                },
                "description": "核准課程申請"
              }
            },
            {
              "name": "拒絕課程申請",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{admin_token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"課程內容不符合平台規範\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/admin/courses/:courseId/reject",
                  "host": ["{{base_url}}"],
                  "path": ["api", "admin", "courses", ":courseId", "reject"],
                  "variable": [
                    {
                      "key": "courseId",
                      "value": "1",
                      "description": "課程 ID"
                    }
                  ]
                },
                "description": "拒絕課程申請，必須提供拒絕原因"
              }
            }
          ]
        }
      ],
      "description": "管理員功能相關 API，需要管理員權限\n\n**實際實作的 API 路由：**\n- POST /api/admin/login - 管理員登入\n- POST /api/admin/logout - 管理員登出\n- GET /api/admin/profile - 獲取管理員資訊\n- GET /api/admin/teacher-applications - 獲取教師申請列表\n- POST /api/admin/teachers/:teacherId/approve - 核准教師申請\n- POST /api/admin/teachers/:teacherId/reject - 拒絕教師申請\n- POST /api/admin/courses/:courseId/approve - 核准課程申請\n- POST /api/admin/courses/:courseId/reject - 拒絕課程申請\n\n**注意事項：**\n- 所有 API 都需要 admin 身份認證\n- 管理員登入使用 username/password，不是 email/password\n- 審核教師申請會自動處理角色升級（TEACHER_PENDING → TEACHER）"
    },
    {
      "name": "� 使用者頭像 (User Avatar)",
      "item": [
        {
          "name": "📤 上傳頭像",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/form-data",
                "type": "text"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "avatar",
                  "type": "file",
                  "src": [],
                  "description": "頭像檔案 (支援 JPEG, JPG, PNG, WebP，最大 5MB)"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/upload/avatar",
              "host": ["{{base_url}}"],
              "path": ["api", "upload", "avatar"]
            },
            "description": "上傳使用者頭像到 Firebase Storage\n\n**新的業務規則**：\n✅ 使用者只能維護一個頭像\n✅ 上傳新頭像會自動刪除 Firebase Storage 中的舊頭像\n✅ Google 登入用戶的頭像不會從 Google 伺服器刪除，但會在資料庫中更新為新頭像\n\n**支援格式**：\n- 圖片格式: JPEG, JPG, PNG, WebP\n- ❌ 不支援: SVG, GIF, BMP 等其他格式\n\n**限制**：\n- 最大檔案大小: 5MB\n- 每個使用者只能有一個頭像\n\n**業務邏輯**：\n- 驗證使用者已登入\n- 驗證檔案格式和大小\n- 自動刪除舊頭像（如果存在且不是 Google 頭像）\n- 上傳新頭像到 Firebase Storage\n- 更新使用者頭像 URL\n\n**錯誤處理**：\n- 不支援格式會顯示具體格式錯誤訊息\n- 檔案過大會顯示當前大小和限制\n- 舊頭像清理失敗不會影響新頭像上傳"
          },
          "response": []
        },
        {
          "name": "🗑️ 刪除頭像",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/upload/avatar",
              "host": ["{{base_url}}"],
              "path": ["api", "upload", "avatar"]
            },
            "description": "刪除使用者頭像\n\n業務邏輯：\n- 驗證使用者已登入\n- 從 Firebase Storage 刪除頭像檔案\n- 清除使用者的頭像 URL"
          },
          "response": []
        }
      ],
      "description": "使用者頭像管理相關 API\n\n⚠️ 注意事項：\n- 需要 JWT 認證\n- 需要設定 Firebase Storage 環境變數\n- 支援的檔案格式：JPEG, JPG, PNG, WebP\n- 檔案大小限制：最大 5MB\n- 使用者只能維護一個頭像，上傳新頭像會自動刪除舊頭像\n- Google 登入用戶的頭像無法被刪除，只會清除資料庫記錄"
    },
    {
      "name": "�📁 檔案上傳 (File Upload)",
      "item": [
        {
          "name": "📤 上傳單個檔案",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "files",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "category",
                  "value": "documents",
                  "type": "text",
                  "description": "檔案分類 (可選)"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/files/upload",
              "host": ["{{base_url}}"],
              "path": ["api", "files", "upload"]
            },
            "description": "上傳單個檔案到 Firebase Storage\n\n支援格式：\n- 圖片: JPEG, PNG, GIF, WebP\n- 文件: PDF, DOC, DOCX, TXT\n\n限制：\n- 最大檔案大小: 10MB\n- 最大檔案數量: 5個"
          },
          "response": []
        },
        {
          "name": "📤 上傳多個檔案",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "files",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "files",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "category",
                  "value": "images",
                  "type": "text",
                  "description": "檔案分類 (可選)"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/files/upload",
              "host": ["{{base_url}}"],
              "path": ["api", "files", "upload"]
            },
            "description": "上傳多個檔案到 Firebase Storage (最多5個檔案)"
          },
          "response": []
        },
        {
          "name": "🗑️ 刪除檔案",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fileUrl\": \"gs://your-bucket/uploads/documents/filename.pdf\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/files/delete",
              "host": ["{{base_url}}"],
              "path": ["api", "files", "delete"]
            },
            "description": "從 Firebase Storage 刪除指定檔案\n\n請求參數：\n- fileUrl: Firebase Storage 檔案 URL (gs://格式)"
          },
          "response": []
        },
        {
          "name": "📄 取得檔案資訊",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/files/metadata/{{encoded_file_url}}",
              "host": ["{{base_url}}"],
              "path": ["api", "files", "metadata", "{{encoded_file_url}}"]
            },
            "description": "取得指定檔案的詳細資訊\n\n路徑參數：\n- encoded_file_url: URL 編碼的 Firebase Storage 檔案 URL\n\n使用方式：\n1. 先將檔案 URL 進行 URL 編碼\n2. 將編碼後的 URL 作為路徑參數"
          },
          "response": []
        },
        {
          "name": "🔗 生成下載連結",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fileUrl\": \"gs://your-bucket/uploads/documents/filename.pdf\",\n  \"expiresInMinutes\": 60\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/files/download-url",
              "host": ["{{base_url}}"],
              "path": ["api", "files", "download-url"]
            },
            "description": "為私有檔案生成帶有過期時間的下載連結\n\n請求參數：\n- fileUrl: Firebase Storage 檔案 URL (gs://格式)\n- expiresInMinutes: 連結有效期限（分鐘），預設60分鐘"
          },
          "response": []
        },
        {
          "name": "🧪 測試 Firebase 配置",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('檢查 Firebase 配置狀態', function () {",
                  "    if (pm.response.code === 503) {",
                  "        pm.test('Firebase 服務不可用 - 這是正常的，如果沒有設定環境變數', function () {",
                  "            var jsonData = pm.response.json();",
                  "            pm.expect(jsonData.error).to.eql('SERVICE_UNAVAILABLE');",
                  "            console.log('❌ Firebase 未配置，請設定以下環境變數：');",
                  "            console.log('   FIREBASE_SERVICE_ACCOUNT_PATH');",
                  "            console.log('   FIREBASE_STORAGE_BUCKET');",
                  "        });",
                  "    } else if (pm.response.code === 401) {",
                  "        console.log('⚠️  需要先登入取得 token');",
                  "    } else {",
                  "        pm.test('Firebase 服務可用', function () {",
                  "            pm.expect(pm.response.code).to.be.oneOf([200, 400]);",
                  "            console.log('✅ Firebase 配置正確');",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "url": {
              "raw": "{{base_url}}/api/files/upload",
              "host": ["{{base_url}}"],
              "path": ["api", "files", "upload"]
            },
            "description": "測試 Firebase 配置是否正確\n\n- 如果返回 503: Firebase 未配置（正常情況）\n- 如果返回 401: 需要登入\n- 如果返回 400: Firebase 已配置但沒有檔案（正常）"
          },
          "response": []
        }
      ],
      "description": "檔案上傳相關 API，使用 Firebase Storage 進行雲端檔案儲存\n\n⚠️ 注意事項：\n- 需要設定 Firebase 環境變數才能使用\n- 所有端點都需要 JWT 認證\n- 支援多種檔案格式和大小限制"
    }
  ]
}